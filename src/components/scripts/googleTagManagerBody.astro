---
// Google Tag Manager head script
import { getGoogleTagManagerID, isAnalyticsEnabled } from '../../config/analytics'

// Fetch dynamic analytics configuration
const googleTagManagerID = await getGoogleTagManagerID()
const analyticsEnabled = await isAnalyticsEnabled()
---

{
	analyticsEnabled && googleTagManagerID && (
		<noscript>
			<iframe
				src={`https://www.googletagmanager.com/ns.html?id=${googleTagManagerID}`}
				height="0"
				width="0"
				style="display:none;visibility:hidden"
			/>
		</noscript>
	)
}
